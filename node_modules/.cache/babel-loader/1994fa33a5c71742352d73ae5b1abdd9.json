{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\fakhrurizky\\\\Desktop\\\\akhir\\\\FrontEnd\\\\src\\\\components\\\\organisms\\\\Upload.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { Form } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UploadFile extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      // Initially, no file is selected\n      selectedFile: null,\n      files: new FormData()\n    };\n\n    this.onFileChange = event => {\n      // Update the state\n      this.setState({\n        selectedFile: event.target.files[0]\n      });\n      this.state.files = event.target.files[0]; // console.log(event)\n\n      console.log(this.state.files);\n    };\n\n    this.onFileUpload = () => {\n      var fileData = new FormData();\n      var test = document.querySelector('#filename');\n      fileData.append('images', test.files[0]);\n      let config = {\n        method: 'post',\n        url: 'http://localhost:3031/createnews',\n        headers: {\n          'Authorization': \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImRpbWFzIiwiZW1haWwiOiJkaW1hc0BidWtvcGluLmNvbSIsInJvbGVzIjoiYWRtaW4iLCJpYXQiOjE2Mzc0ODMxODZ9.g8lrtDZnRxfv6OaHxC-vS-aXbpN4LBO-Ru3f93Xp64w\"\n        },\n        data: fileData\n      };\n      axios(config); // fetch('http://localhost:3031/logintes', config)\n    };\n\n    this.fileData = () => {\n      if (this.state.selectedFile) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"File Details:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"File Name: \", this.state.selectedFile.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"File Type: \", this.state.selectedFile.type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Last Modified:\", \" \", this.state.selectedFile.lastModifiedDate.toDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Choose before Pressing the Upload button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"UPLOAD FILE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"File Upload using React!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"filename\",\n          type: \"file\",\n          onChange: this.onFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.onFileUpload,\n          children: \"Upload!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), this.fileData()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default UploadFile;","map":{"version":3,"sources":["C:/Users/fakhrurizky/Desktop/akhir/FrontEnd/src/components/organisms/Upload.js"],"names":["axios","React","Component","Form","UploadFile","state","selectedFile","files","FormData","onFileChange","event","setState","target","console","log","onFileUpload","fileData","test","document","querySelector","append","config","method","url","headers","data","name","type","lastModifiedDate","toDateString","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,SAASC,IAAT,QAAqB,iBAArB;;;AAEA,MAAMC,UAAN,SAAyBF,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAC/BG,KAD+B,GACvB;AACN;AACEC,MAAAA,YAAY,EAAE,IAFV;AAGJC,MAAAA,KAAK,EAAE,IAAIC,QAAJ;AAHH,KADuB;;AAAA,SAQ/BC,YAR+B,GAQfC,KAAD,IAAW;AACxB;AACA,WAAKC,QAAL,CAAc;AAAEL,QAAAA,YAAY,EAAEI,KAAK,CAACE,MAAN,CAAaL,KAAb,CAAmB,CAAnB;AAAhB,OAAd;AACA,WAAKF,KAAL,CAAWE,KAAX,GAAmBG,KAAK,CAACE,MAAN,CAAaL,KAAb,CAAmB,CAAnB,CAAnB,CAHwB,CAIxB;;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWE,KAAvB;AACD,KAd8B;;AAAA,SAiB/BQ,YAjB+B,GAiBhB,MAAM;AACjB,UAAIC,QAAQ,GAAG,IAAIR,QAAJ,EAAf;AACA,UAAIS,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAX;AACAH,MAAAA,QAAQ,CAACI,MAAT,CAAgB,QAAhB,EAA0BH,IAAI,CAACV,KAAL,CAAW,CAAX,CAA1B;AAEA,UAAIc,MAAM,GAAG;AACXC,QAAAA,MAAM,EAAE,MADG;AAEXC,QAAAA,GAAG,EAAE,kCAFM;AAGXC,QAAAA,OAAO,EAAC;AACN,2BAAgB;AADV,SAHG;AAMXC,QAAAA,IAAI,EAAET;AANK,OAAb;AASAhB,MAAAA,KAAK,CAACqB,MAAD,CAAL,CAdiB,CAejB;AACH,KAjC8B;;AAAA,SAqC/BL,QArC+B,GAqCpB,MAAM;AACf,UAAI,KAAKX,KAAL,CAAWC,YAAf,EAA6B;AAC3B,4BACE;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sCAAe,KAAKD,KAAL,CAAWC,YAAX,CAAwBoB,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAA,sCAAe,KAAKrB,KAAL,CAAWC,YAAX,CAAwBqB,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE;AAAA,yCACe,GADf,EAEC,KAAKtB,KAAL,CAAWC,YAAX,CAAwBsB,gBAAxB,CAAyCC,YAAzC,EAFD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF;AAWD,OAZD,MAYO;AACL,4BACE;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF;AAMD;AACF,KA1D8B;AAAA;;AA4D/BC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAOI;AAAA,gCACI;AAAO,UAAA,EAAE,EAAC,UAAV;AAAqB,UAAA,IAAI,EAAC,MAA1B;AAAiC,UAAA,QAAQ,EAAG,KAAKrB;AAAjD;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,OAAO,EAAG,KAAKM,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,EAaI,KAAKC,QAAL,EAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAiBD;;AA9E8B;;AAiFnC,eAAeZ,UAAf","sourcesContent":["import axios from 'axios';\r\nimport React,{Component} from 'react';\r\nimport { Form } from 'react-bootstrap';\r\n \r\nclass UploadFile extends Component {    \r\n    state = {\r\n      // Initially, no file is selected\r\n        selectedFile: null,\r\n        files: new FormData()\r\n    };   \r\n\r\n    // On file select (from the pop up)\r\n    onFileChange = (event) => {\r\n      // Update the state\r\n      this.setState({ selectedFile: event.target.files[0] });\r\n      this.state.files = event.target.files[0]\r\n      // console.log(event)\r\n      console.log(this.state.files)\r\n    };\r\n    \r\n    // On file upload (click the upload button)\r\n    onFileUpload = () => {\r\n        var fileData = new FormData()\r\n        var test = document.querySelector('#filename')        \r\n        fileData.append('images', test.files[0])\r\n\r\n        let config = {\r\n          method: 'post',\r\n          url: 'http://localhost:3031/createnews',\r\n          headers:{\r\n            'Authorization':\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImRpbWFzIiwiZW1haWwiOiJkaW1hc0BidWtvcGluLmNvbSIsInJvbGVzIjoiYWRtaW4iLCJpYXQiOjE2Mzc0ODMxODZ9.g8lrtDZnRxfv6OaHxC-vS-aXbpN4LBO-Ru3f93Xp64w\"\r\n          },\r\n          data: fileData,\r\n        }\r\n        \r\n        axios(config)\r\n        // fetch('http://localhost:3031/logintes', config)\r\n    };\r\n    \r\n    // File content to be displayed after\r\n    // file upload is complete\r\n    fileData = () => {\r\n      if (this.state.selectedFile) {\r\n        return (\r\n          <div>\r\n            <h2>File Details:</h2>\r\n            <p>File Name: {this.state.selectedFile.name}</p>\r\n            <p>File Type: {this.state.selectedFile.type}</p>        \r\n            <p>\r\n            Last Modified:{\" \"}\r\n            {this.state.selectedFile.lastModifiedDate.toDateString()}\r\n            </p>\r\n          </div>\r\n        );\r\n      } else {\r\n        return (\r\n          <div>\r\n            <br />\r\n            <h4>Choose before Pressing the Upload button</h4>\r\n          </div>\r\n        );\r\n      }\r\n    };\r\n    \r\n    render() {    \r\n      return (\r\n        <div>\r\n            <h1>\r\n              UPLOAD FILE\r\n            </h1>\r\n            <h3>\r\n              File Upload using React!\r\n            </h3>\r\n            <div>\r\n                <input id=\"filename\" type=\"file\" onChange={ this.onFileChange } />\r\n                <button onClick={ this.onFileUpload }>\r\n                  Upload!\r\n                </button>\r\n            </div>\r\n          { this.fileData() }\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n \r\nexport default UploadFile;"]},"metadata":{},"sourceType":"module"}